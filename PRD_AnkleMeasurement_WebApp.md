# è¶³é–¢ç¯€è§’åº¦æ¸¬å®š WebApp PRDï¼ˆProduct Requirements Documentï¼‰

> **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: AnkleCapture - è‡¨åºŠãƒ»ç ”ç©¶ç”¨è¶³é–¢ç¯€è§’åº¦æ¸¬å®šWebApp  
> **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0 (MVP)  
> **ä½œæˆæ—¥**: 2026-01-05  
> **é–¢é€£ç ”ç©¶**: Image Jã‚’ç”¨ã„ãŸé«˜é½¢è€…ã«ãŠã‘ã‚‹ãƒãƒ©ãƒ³ã‚¹ã‚¦ãƒƒãƒ‰ã‚’ç”¨ã„ãŸè¶³é–¢ç¯€é‹å‹•ã®å³æ™‚åŠ¹æœã®æ¤œè¨

---

## 1. ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼

### 1.1 èƒŒæ™¯ã¨èª²é¡Œ

ç¾åœ¨ã®è¶³é–¢ç¯€è§’åº¦æ¸¬å®šãƒ—ãƒ­ã‚»ã‚¹ã«ã¯ä»¥ä¸‹ã®èª²é¡ŒãŒã‚ã‚‹ï¼š

| ç¾çŠ¶ã®èª²é¡Œ | è©³ç´° |
|-----------|------|
| **æ¸¬å®šã®éæ¨™æº–åŒ–** | æ’®å½±æ¡ä»¶ï¼ˆè·é›¢ã€è§’åº¦ã€å§¿å‹¢ï¼‰ãŒæ’®å½±è€…ã«ã‚ˆã£ã¦ã°ã‚‰ã¤ã |
| **æ‰‹é †ã®å±äººåŒ–** | ã€Œè¶³ã‚’åœ°é¢ã«ã¤ã‘ã‚‹ã€ã€Œè†ã‚’ä¼¸ã°ã™ã€ãªã©ã®ç¢ºèªãŒå£é ­ãƒ™ãƒ¼ã‚¹ |
| **ãƒ‡ãƒ¼ã‚¿åˆ†æ•£** | å†™çœŸâ†’ImageJæ¸¬å®šâ†’æ‰‹å…¥åŠ›â†’Excel ã¨ã„ã†å¤šæ®µéšãƒ—ãƒ­ã‚»ã‚¹ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã‚„ã™ã„ |
| **ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ä¸è¶³** | ã©ã®ã‚ˆã†ãªæ¡ä»¶ã§æ’®å½±ã•ã‚ŒãŸã‹ã®è¨˜éŒ²ãŒæ®‹ã‚‰ãªã„ |

### 1.2 ææ¡ˆã™ã‚‹ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

**iPhoneå‘ã‘WebApp**ã¨ã—ã¦ã€ä»¥ä¸‹ã‚’ä¸€å…ƒåŒ–ã—ãŸæ¸¬å®šã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹ï¼š

```mermaid
flowchart LR
    A[ğŸ“± ã‚«ãƒ¡ãƒ©æ’®å½±] --> B[ğŸ”² ã‚¬ã‚¤ãƒ‰UIè¡¨ç¤º]
    B --> C[âœ… åˆ†æ­¥ç¢ºèª]
    C --> D[ğŸ“¸ æ’®å½±]
    D --> E[ğŸ“ 3ç‚¹æ¸¬è§’]
    E --> F[ğŸ’¾ CSV/ç”»åƒå‡ºåŠ›]
```

---

## 2. è£½å“æ¦‚è¦

### 2.1 è£½å“ãƒã‚¸ã‚·ãƒ§ãƒ‹ãƒ³ã‚°

| é …ç›® | å†…å®¹ |
|------|------|
| **è£½å“å** | AnkleCapture |
| **ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ** | iPhone Safari (WebApp, PWAå¯¾å¿œå¯) |
| **å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼** | ç†å­¦ç™‚æ³•å£«ã€ç ”ç©¶è€…ã€è‡¨åºŠã‚¹ã‚¿ãƒƒãƒ• |
| **ä¸»è¦ä¾¡å€¤** | æ¨™æº–åŒ–ã•ã‚ŒãŸæ’®å½±æ¡ä»¶ï¼‹å†ç¾å¯èƒ½ãªæ¸¬å®šãƒ—ãƒ­ã‚»ã‚¹ |

### 2.2 å¯¾è±¡ã‚·ãƒŠãƒªã‚ªï¼ˆMVPï¼‰

> [!IMPORTANT]
> **MVPåˆ¶ç´„æ¡ä»¶**
> - **ãƒ‡ãƒã‚¤ã‚¹**: iPhone ã®ã¿ï¼ˆå¾Œæ–¹ã‚«ãƒ¡ãƒ©ä½¿ç”¨ï¼‰
> - **å§¿å‹¢**: åº§ä½ã®ã¿
> - **è·é›¢**: 3mï¼ˆå›ºå®šï¼‰
> - **ãƒãƒ¼ã‚«ãƒ¼**: è²´ç‚¹ï¼ˆè…“éª¨é ­ã€å¤–æœã€ç¬¬5ä¸­è¶³éª¨é ­ï¼‰ã‚’è„šã«äº‹å‰è²¼ä»˜

---

## 3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã¨ãƒ•ãƒ­ãƒ¼

### 3.1 ä¸»è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼

```
As a ç†å­¦ç™‚æ³•å£«,
I want to æ¨™æº–åŒ–ã•ã‚ŒãŸæ¡ä»¶ã§è¶³é–¢ç¯€å†™çœŸã‚’æ’®å½±ã—ãŸã„,
So that ä»‹å…¥å‰å¾Œã®æ¯”è¼ƒãŒå®¢è¦³çš„ã«ã§ãã‚‹.

As a ç ”ç©¶è€…,
I want to æ’®å½±æ¡ä»¶ã¨æ¸¬å®šå€¤ã‚’ä¸€æ‹¬ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ãŸã„,
So that ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã®æ‰‹é–“ã‚’å‰Šæ¸›ã§ãã‚‹.
```

### 3.2 ç”»é¢ãƒ•ãƒ­ãƒ¼

```mermaid
flowchart TD
    subgraph æº–å‚™ãƒ•ã‚§ãƒ¼ã‚º
        A[ğŸ  ãƒ›ãƒ¼ãƒ ç”»é¢] --> B[ğŸ“‹ è¢«é¨“è€…æƒ…å ±å…¥åŠ›]
        B --> C[ğŸ¦µ å·¦å³è„šé¸æŠ]
    end
    
    subgraph æ’®å½±ãƒ•ã‚§ãƒ¼ã‚º
        C --> D[ğŸ“· ã‚«ãƒ¡ãƒ©ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼]
        D --> E{Stepå‘å°}
        E -->|Step 1| F[è¶³ã‚’ãƒ•ãƒ¬ãƒ¼ãƒ ã«é…ç½®]
        E -->|Step 2| G[è¸µã‚’æ¥åœ°ç¢ºèª]
        E -->|Step 3| H[è¶³ã‚’å¹³ã‚‰ã«ç¢ºèª]
        E -->|Step 4| I[è·é›¢3mç¢ºèª]
        I --> J[ğŸ“¸ æ’®å½±ãƒœã‚¿ãƒ³]
    end
    
    subgraph æ¸¬å®šãƒ•ã‚§ãƒ¼ã‚º
        J --> K[ğŸ–¼ï¸ æ’®å½±ç”»åƒç¢ºèª]
        K --> L[ğŸ“ 3ç‚¹ãƒãƒ¼ã‚­ãƒ³ã‚°]
        L --> M[ğŸ“ è§’åº¦è‡ªå‹•è¨ˆç®—]
    end
    
    subgraph å‡ºåŠ›ãƒ•ã‚§ãƒ¼ã‚º
        M --> N[ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ä¿å­˜]
        N --> O[ğŸ“¤ CSV/ç”»åƒã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ]
    end
```

---

## 4. æ©Ÿèƒ½è¦ä»¶

### 4.1 ã‚«ãƒ¡ãƒ©ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢

#### 4.1.1 åŸºæœ¬æ©Ÿèƒ½

| æ©Ÿèƒ½ID | æ©Ÿèƒ½å | è©³ç´° | å„ªå…ˆåº¦ |
|--------|--------|------|--------|
| CAM-01 | å¾Œæ–¹ã‚«ãƒ¡ãƒ©ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ | `getUserMedia`ã§ç’°å¢ƒã‚«ãƒ¡ãƒ©ï¼ˆå¾Œæ–¹ï¼‰ã‚’å–å¾—ã€`<video playsinline muted autoplay>`ã§è¡¨ç¤º | P0 |
| CAM-02 | ä¹å®®æ ¼Gridè¡¨ç¤º | å¸¸æ™‚è¡¨ç¤ºã€2æœ¬ã®ç¸¦ç·šï¼‹2æœ¬ã®æ¨ªç·šï¼ˆç”»é¢ã‚’9åˆ†å‰²ï¼‰ | P0 |
| CAM-03 | è¶³éƒ¨è¼ªéƒ­ã‚¬ã‚¤ãƒ‰ | å·¦/å³è„šç”¨ã®SVGè¼ªéƒ­ï¼ˆåŠé€æ˜ï¼‰ã‚’ä¸­å¤®ã«è¡¨ç¤º | P0 |
| CAM-04 | å·¦å³è„šåˆ‡æ›¿ | ãƒœã‚¿ãƒ³ã§å·¦è„šâ†”å³è„šã®ã‚¬ã‚¤ãƒ‰è¼ªéƒ­ã‚’åˆ‡æ›¿ | P0 |
| CAM-05 | æ°´å¹³å‚ç…§ç·š | ç”»é¢ä¸­å¤®ã«å›ºå®šæ°´å¹³ç·šã‚’è¡¨ç¤ºï¼ˆç’°å¢ƒã®æ°´å¹³ç·šã¨åˆã‚ã›ã‚‹ç”¨ï¼‰ | P0 |
| CAM-06 | æ°´å¹³ä»ªæ©Ÿèƒ½ï¼ˆDeviceMotionï¼‰ | DeviceMotionEventã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‚¾ãæ¤œå‡ºã€è¨±å®¹ç¯„å›²Â±5Â° | **P0** |
| CAM-07 | ä¿¯ä»°è§’ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ | å‰å¾Œå‚¾æ–œï¼ˆPitchï¼‰ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤ºã€ç¯„å›²å¤–ã§è­¦å‘Š | **P0** |
| CAM-08 | å·¦å³å‚¾æ–œã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ | å·¦å³å‚¾æ–œï¼ˆRollï¼‰ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤ºã€ç¯„å›²å¤–ã§è­¦å‘Š | **P0** |
| CAM-09 | è·é›¢ç¢ºèªUI | æ‰‹å‹•ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ï¼‹åœ°æ¿ã‚¿ã‚¤ãƒ«å‚è€ƒã‚¬ã‚¤ãƒ‰è¡¨ç¤º | **P0** |
| CAM-10 | ä¸­å¿ƒåå­—æº–æ˜Ÿ | ç”»é¢ä¸­å¤®ã«åå­—ãƒãƒ¼ã‚¯ã€é–¢ç¯€ä½ç½®åˆã‚ã›ç”¨ | **P0** |

#### 4.1.2 Overlay ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     HTML Layer (æŒ‡ç¤ºæ–‡å­—)        â”‚  z-index: 40
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     Level Indicator (æ°´å¹³ä»ª)     â”‚  z-index: 35  â† NEW
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     SVG Layer (è¶³éƒ¨è¼ªéƒ­)         â”‚  z-index: 20
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     Canvas Layer (Grid/æ°´å¹³ç·š)   â”‚  z-index: 10
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     Video Layer (ã‚«ãƒ¡ãƒ©æ˜ åƒ)      â”‚  z-index: 0
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.1.3 ã‚«ãƒ¡ãƒ©ä½ç½®æ±ºã‚æ”¯æ´æ©Ÿèƒ½ï¼ˆMVPæ–°è¦è¿½åŠ ï¼‰

> [!IMPORTANT]
> **æ’®å½±æ¡ä»¶ã®æ¨™æº–åŒ–**ã®ãŸã‚ã€ä»¥ä¸‹ã®ä½ç½®æ±ºã‚æ”¯æ´æ©Ÿèƒ½ã‚’MVPã«å«ã‚ã‚‹

#### æ°´å¹³ä»ªï¼ˆDeviceMotionï¼‰ä»•æ§˜

| é …ç›® | ä»•æ§˜ |
|------|------|
| **æ¤œå‡ºè»¸** | Pitchï¼ˆå‰å¾Œä¿¯ä»°ï¼‰ã€Rollï¼ˆå·¦å³å‚¾æ–œï¼‰ |
| **è¨±å®¹ç¯„å›²** | Â±5Â°ä»¥å†…ã§ã€Œâœ“ æ°´å¹³ã€ã¨åˆ¤å®š |
| **æ›´æ–°é »åº¦** | 60Hzï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼‰ |
| **UIè¡¨ç¤º** | ç”»é¢ä¸Šéƒ¨ã«ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ãƒãƒ¼è¡¨ç¤º |
| **è­¦å‘Šè¡¨ç¤º** | ç¯„å›²å¤–ã®å ´åˆã€èµ¤è‰²ã§æ–¹å‘ã‚’çŸ¢å°è¡¨ç¤º |
| **æ’®å½±åˆ¶é™** | æ°´å¹³ã§ãªã„å ´åˆã‚‚æ’®å½±å¯èƒ½ï¼ˆè­¦å‘Šã®ã¿ï¼‰ |

#### æ°´å¹³ä»ª UI ãƒ¢ãƒƒã‚¯ã‚¢ãƒƒãƒ—

```
æ°´å¹³æ™‚ï¼ˆç·‘ï¼‰                     å‚¾æ–œæ™‚ï¼ˆèµ¤ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â—â”â”â”â”â”â”â”â—â”â”â”â”â”â”â”â—   â”‚       â”‚  â—â”â”â”â”â”â”â”â”â”â”â”â—â”â”â”â”â—  â”‚
â”‚     âœ“ æ°´å¹³           â”‚       â”‚     â†— å³ã«5Â°å‚¾æ–œ    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¿¯ä»°è§’è¡¨ç¤º
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       â•â•â•â—â•â•â•        â”‚       â”‚       â•â•â•â•â•â•â•â—       â”‚
â”‚     âœ“ æ­£é¢           â”‚       â”‚     â†“ ä¸‹ã«10Â°å‚¾æ–œ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### è·é›¢ç¢ºèª UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”¶ è·é›¢ç¢ºèª                         â”‚
â”‚                                     â”‚
â”‚  ğŸ“ ã‚«ãƒ¡ãƒ©ã¨è¢«é¨“è€…ã®è·é›¢ã¯ç´„ 3m ã§ã™ã‹? â”‚
â”‚                                     â”‚
â”‚  ğŸ’¡ å‚è€ƒã‚¬ã‚¤ãƒ‰ï¼š                      â”‚
â”‚  ãƒ»ä¸€èˆ¬çš„ãªåºŠã‚¿ã‚¤ãƒ«ï¼ˆ80cmï¼‰â‰ˆ ç´„4æšåˆ†   â”‚
â”‚  ãƒ»ç•³ 1ç•³ã®é•·è¾º â‰ˆ ç´„180cm â‰ˆ ç´„1.7ç•³åˆ† â”‚
â”‚  ãƒ»è…•ã‚’åºƒã’ãŸå¹… â‰ˆ ç´„170cm â‰ˆ ç´„1.8å€   â”‚
â”‚                                     â”‚
â”‚   [ è¿‘ã™ãã‚‹ ]  [ âœ“ é©åˆ‡ ]  [ é ã™ãã‚‹ ] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ä¸­å¿ƒåå­—æº–æ˜Ÿ

```
ç”»é¢ä¸­å¤®ã«å¸¸æ™‚è¡¨ç¤ºï¼ˆé–¢ç¯€ã‚’ä¸­å¿ƒã«åˆã‚ã›ã‚‹ï¼‰

         â”‚
    â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€
         â”‚

ãƒ»ç·šã®è‰²: åŠé€æ˜ç™½ (rgba(255,255,255,0.7))
ãƒ»ç·šã®å¤ªã•: 2px
ãƒ»ç·šã®é•·ã•: ç”»é¢å¹…/é«˜ã•ã® 10%
```

### 4.2 åˆ†æ­¥å‘å°ï¼ˆStep-by-Step Guidanceï¼‰

> [!NOTE]
> å„ã‚¹ãƒ†ãƒƒãƒ—ã§**ç¢ºèªãƒœã‚¿ãƒ³ã‚’æŠ¼ã™**ã“ã¨ã§ã€æ¡ä»¶ç¢ºèªã®è¨˜éŒ²ãŒæ®‹ã‚‹ä»•çµ„ã¿

| Step | ç¢ºèªé …ç›® | è¡¨ç¤ºãƒ†ã‚­ã‚¹ãƒˆ | ãƒ‡ãƒ¼ã‚¿è¨˜éŒ² |
|------|----------|--------------|------------|
| 1 | è¶³é…ç½® | ã€Œè¶³ã‚’ã‚¬ã‚¤ãƒ‰æ å†…ã«é…ç½®ã—ã¦ãã ã•ã„ã€ | `foot_in_frame: true/false` |
| 2 | è¸µæ¥åœ° | ã€Œè¸µãŒåºŠã«æ¥åœ°ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã€ | `heel_on_ground: true/false` |
| 3 | è¶³å¹³å¦ | ã€Œè¶³ãŒå¹³ã‚‰ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã€ | `foot_flat: true/false` |
| 4 | è·é›¢ç¢ºèª | ã€Œè¢«é¨“è€…ã¨ã®è·é›¢ãŒ3mã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã€ | `distance_confirmed: true/false` |
| 5 | æ’®å½± | ã€Œã‚·ãƒ£ãƒƒã‚¿ãƒ¼ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦æ’®å½±ã€ | `capture_timestamp` |

### 4.3 æ’®å½±ãƒ»ç”»åƒå‡¦ç†

| æ©Ÿèƒ½ID | æ©Ÿèƒ½å | è©³ç´° | å„ªå…ˆåº¦ |
|--------|--------|------|--------|
| IMG-01 | é™æ­¢ç”»ã‚­ãƒ£ãƒ—ãƒãƒ£ | `video` â†’ `canvas` â†’ `toDataURL()` | P0 |
| IMG-02 | åŸç”»åƒä¿å­˜ | æ’®å½±æ™‚ç‚¹ã®ç”»åƒã‚’ãã®ã¾ã¾ä¿å­˜ | P0 |
| IMG-03 | ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ç”»åƒç”Ÿæˆ | Gridã€è¼ªéƒ­ã€ç¢ºèªé …ç›®ã‚’é‡ã­ãŸã€Œè¨¼æ‹ ç”»åƒã€ã‚’ç”Ÿæˆ | P0 |
| IMG-04 | ç”»åƒå“è³ªè¨­å®š | è§£åƒåº¦æŒ‡å®šï¼ˆæ¨å¥¨: 1920x1080ä»¥ä¸Šï¼‰ | P1 |

### 4.4 3ç‚¹æ¸¬è§’æ©Ÿèƒ½ï¼ˆæ’®å½±å¾Œç”»é¢ï¼‰

| æ©Ÿèƒ½ID | æ©Ÿèƒ½å | è©³ç´° | å„ªå…ˆåº¦ |
|--------|--------|------|--------|
| ANG-01 | ãƒã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚­ãƒ³ã‚° | ç”»åƒä¸Šã§3ç‚¹ï¼ˆè…“éª¨é ­ã€å¤–æœã€ç¬¬5ä¸­è¶³éª¨é ­ï¼‰ã‚’ã‚¿ãƒƒãƒ—/ãƒ‰ãƒ©ãƒƒã‚°ã§æŒ‡å®š | P0 |
| ANG-02 | è§’åº¦è‡ªå‹•è¨ˆç®— | 3ç‚¹ã‹ã‚‰è§’åº¦ã‚’è¨ˆç®—ï¼ˆ2ç›´ç·šã®ãªã™è§’ï¼‰ | P0 |
| ANG-03 | è§’åº¦è¡¨ç¤º | è¨ˆç®—çµæœã‚’ç”»åƒä¸Šã«ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤è¡¨ç¤º | P0 |
| ANG-04 | ãƒã‚¤ãƒ³ãƒˆä¿®æ­£ | ãƒãƒ¼ã‚­ãƒ³ã‚°ä½ç½®ã‚’ãƒ‰ãƒ©ãƒƒã‚°ã§å¾®èª¿æ•´å¯èƒ½ | P1 |
| ANG-05 | è¤‡æ•°è§’åº¦å¯¾å¿œ | è†çª©è§’åº¦ã€è¶³é–¢ç¯€èƒŒå±ˆè§’åº¦ã®2ç¨®é¡ã«å¯¾å¿œ | P1 |

### 4.5 ãƒ‡ãƒ¼ã‚¿è¨˜éŒ²ãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

#### 4.5.1 è¨˜éŒ²ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

```javascript
{
  // è¢«é¨“è€…æƒ…å ±
  "subject_id": "P001",
  "session_id": "uuid-xxxx",
  "operator_id": "OT_yamada",
  
  // æ¸¬å®šæ¡ä»¶
  "side": "L",           // L/R
  "posture": "sitting",  // sitting/standing
  "distance_m": 3.0,
  "measurement_type": "ankle_dorsiflexion", // popliteal_angle / ankle_dorsiflexion
  
  // ç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
  "checklist": {
    "foot_in_frame": true,
    "heel_on_ground": true,
    "foot_flat": true,
    "distance_confirmed": "appropriate"  // "too_close" / "appropriate" / "too_far"
  },
  
  // ãƒ‡ãƒã‚¤ã‚¹å§¿å‹¢ï¼ˆæ’®å½±æ™‚ã«è‡ªå‹•è¨˜éŒ²ï¼‰
  "device_orientation": {
    "pitch_deg": 1.2,           // å‰å¾Œä¿¯ä»°è§’åº¦ï¼ˆÂ±5Â°ãŒè¨±å®¹ç¯„å›²ï¼‰
    "roll_deg": -0.8,           // å·¦å³å‚¾æ–œè§’åº¦ï¼ˆÂ±5Â°ãŒè¨±å®¹ç¯„å›²ï¼‰
    "is_level": true,           // è¨±å®¹ç¯„å›²å†…ã‹ã©ã†ã‹
    "level_tolerance_deg": 5.0  // è¨±å®¹ç¯„å›²ã®è¨­å®šå€¤
  },
  
  // æ¸¬å®šçµæœ
  "points": [
    {"label": "fibular_head", "x": 234, "y": 156},
    {"label": "lateral_malleolus", "x": 245, "y": 312},
    {"label": "5th_metatarsal", "x": 312, "y": 345}
  ],
  "angle_value": 18.5,
  
  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  "timestamp": "2026-01-05T14:32:15+09:00",
  "device_info": "iPhone 14 Pro / Safari 17.2",
  
  // ãƒ•ã‚¡ã‚¤ãƒ«å‚ç…§
  "original_photo": "P001_L_20260105_143215_raw.png",
  "overlay_photo": "P001_L_20260105_143215_overlay.png"
}
```

#### 4.5.2 ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå½¢å¼

| å½¢å¼ | å†…å®¹ | ç”¨é€” |
|------|------|------|
| CSV | å…¨æ¸¬å®šè¨˜éŒ²ã®ä¸€è¦§ | çµ±è¨ˆè§£æï¼ˆR, SPSSç­‰ï¼‰ |
| JSON | è©³ç´°ãƒ‡ãƒ¼ã‚¿ï¼ˆä¸Šè¨˜æ§‹é€ ï¼‰ | ã‚·ã‚¹ãƒ†ãƒ é€£æºãƒ»ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— |
| PNGï¼ˆåŸç”»åƒï¼‰ | æ’®å½±æ™‚ã®å…ƒç”»åƒ | ã‚¢ãƒ¼ã‚«ã‚¤ãƒ– |
| PNGï¼ˆè¨¼æ‹ ç”»åƒï¼‰ | Gridï¼‹è§’åº¦ï¼‹ç¢ºèªé …ç›®ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ | è«–æ–‡æ²è¼‰ãƒ»ç›£æŸ»è¨¼è·¡ |

---

## 5. UI/UXè¨­è¨ˆ

### 5.1 ãƒ‡ã‚¶ã‚¤ãƒ³åŸå‰‡

| åŸå‰‡ | èª¬æ˜ |
|------|------|
| **è‡¨åºŠç¾å ´å„ªå…ˆ** | æ‰‹è¢‹ç€ç”¨ã§ã‚‚æ“ä½œå¯èƒ½ãªå¤§ããªãƒœã‚¿ãƒ³ |
| **ã‚¨ãƒ©ãƒ¼é˜²æ­¢** | Stepå®Œäº†ã—ãªã„ã¨æ¬¡ã«é€²ã‚ãªã„ |
| **è¦–èªæ€§** | é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã€å¤§ãã‚ãƒ•ã‚©ãƒ³ãƒˆ |
| **ã‚·ãƒ³ãƒ—ãƒ«** | 1ç”»é¢1ã‚¿ã‚¹ã‚¯ |

### 5.2 ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ

```css
:root {
  --primary: #2563EB;      /* é’ç³»: ãƒ¡ã‚¤ãƒ³ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ */
  --success: #10B981;      /* ç·‘: ç¢ºèªå®Œäº† */
  --warning: #F59E0B;      /* æ©™: æ³¨æ„å–šèµ· */
  --danger: #EF4444;       /* èµ¤: ã‚¨ãƒ©ãƒ¼ãƒ»æœªç¢ºèª */
  --neutral-bg: #1F2937;   /* ãƒ€ãƒ¼ã‚¯ã‚°ãƒ¬ãƒ¼: èƒŒæ™¯ */
  --overlay: rgba(0,0,0,0.5); /* åŠé€æ˜ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
}
```

### 5.3 è¶³éƒ¨è¼ªéƒ­ã‚¬ã‚¤ãƒ‰ï¼ˆSVGä»•æ§˜ï¼‰

```svg
<!-- å·¦è¶³ã®ç°¡ç•¥è¼ªéƒ­ï¼ˆä¾‹ï¼‰ -->
<svg viewBox="0 0 200 300" xmlns="http://www.w3.org/2000/svg">
  <path 
    d="M100,20 Q60,80 50,150 Q45,200 60,250 Q80,280 100,290 Q120,280 140,250 Q155,200 150,150 Q140,80 100,20 Z"
    fill="none"
    stroke="rgba(37, 99, 235, 0.7)"
    stroke-width="3"
    stroke-dasharray="10,5"
  />
  <!-- 3ç‚¹ãƒãƒ¼ã‚«ãƒ¼ä½ç½®ï¼ˆç›®å®‰ï¼‰ -->
  <circle cx="80" cy="60" r="8" fill="#EF4444" opacity="0.8"/> <!-- è…“éª¨é ­ -->
  <circle cx="90" cy="200" r="8" fill="#EF4444" opacity="0.8"/> <!-- å¤–æœ -->
  <circle cx="140" cy="270" r="8" fill="#EF4444" opacity="0.8"/> <!-- ç¬¬5ä¸­è¶³éª¨é ­ -->
</svg>
```

### 5.4 ç”»é¢ãƒ¢ãƒƒã‚¯ã‚¢ãƒƒãƒ—æ¦‚è¦

#### ã‚«ãƒ¡ãƒ©ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â‰¡]  AnkleCapture   [å·¦è„š â–¼]     â”‚ â† ãƒ˜ãƒƒãƒ€ãƒ¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚      â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—        â”‚
â”‚      â•‘    â”‚       â”‚       â•‘        â”‚
â”‚      â•‘â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•‘        â”‚ â† Grid (ä¹å®®æ ¼)
â”‚      â•‘    â”‚  ğŸ¦¶   â”‚       â•‘        â”‚ â† è¶³è¼ªéƒ­ã‚¬ã‚¤ãƒ‰
â”‚      â•‘â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•‘        â”‚
â”‚      â•‘    â”‚       â”‚       â•‘        â”‚
â”‚      â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚ â† æ°´å¹³å‚ç…§ç·š
â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Step 2/4: è¸µãŒæ¥åœ°ã—ã¦ã„ã¾ã™ã‹?    â”‚ â† æŒ‡ç¤ºãƒ†ã‚­ã‚¹ãƒˆ
â”‚                                    â”‚
â”‚   [ æˆ»ã‚‹ ]          [ âœ“ ç¢ºèª ]     â”‚ â† ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            [ ğŸ“· æ’®å½± ]              â”‚ â† æ’®å½±ãƒœã‚¿ãƒ³ï¼ˆStepå®Œäº†å¾Œæœ‰åŠ¹åŒ–ï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. æŠ€è¡“ä»•æ§˜

### 6.1 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ | ç†ç”± |
|---------|------|------|
| **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰** | Vanilla JS + HTML5 + CSS3 | è»½é‡ã€Safariäº’æ›æ€§é‡è¦– |
| **ã‚«ãƒ¡ãƒ©API** | WebRTC `getUserMedia` | iPhone Safariå¯¾å¿œæ¸ˆã¿ |
| **æç”»** | Canvas 2D + SVG | Grid/æ¸¬å®šç·šã«Canvasã€è¼ªéƒ­ã«SVG |
| **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸** | IndexedDB + LocalStorage | ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ |
| **ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°** | GitHub Pages / Vercel | HTTPSå¿…é ˆã®ãŸã‚ |

### 6.2 iPhone Safari æ³¨æ„äº‹é …

> [!WARNING]
> **iOSå›ºæœ‰ã®åˆ¶ç´„**
> 1. **HTTPSå¿…é ˆ**: `getUserMedia`ã¯ã‚»ã‚­ãƒ¥ã‚¢ç’°å¢ƒã§ã®ã¿å‹•ä½œ
> 2. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼å¿…é ˆ**: ã‚«ãƒ¡ãƒ©èµ·å‹•ã¯ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ç­‰ã‹ã‚‰
> 3. **playsinlineå¿…é ˆ**: `<video>`ã«`playsinline`å±æ€§ãŒãªã„ã¨ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³å¼·åˆ¶
> 4. **DeviceMotionæ¨©é™**: iOS 13+ã§ã¯`DeviceMotionEvent.requestPermission()`ãŒå¿…è¦

### 6.3 ã‚³ã‚¢å®Ÿè£…ã‚µãƒ³ãƒ—ãƒ«

#### ã‚«ãƒ¡ãƒ©åˆæœŸåŒ–

```javascript
async function initCamera() {
  const constraints = {
    video: {
      facingMode: { ideal: "environment" },
      width: { ideal: 1920 },
      height: { ideal: 1080 }
    },
    audio: false
  };
  
  try {
    const stream = await navigator.mediaDevices.getUserMedia(constraints);
    const video = document.getElementById('camera-preview');
    video.srcObject = stream;
    await video.play();
    return true;
  } catch (err) {
    console.error('Camera access denied:', err);
    return false;
  }
}
```

#### Gridæç”»

```javascript
function drawGrid(canvas) {
  const ctx = canvas.getContext('2d');
  const w = canvas.width;
  const h = canvas.height;
  
  ctx.clearRect(0, 0, w, h);
  ctx.strokeStyle = 'rgba(255, 255, 255, 0.6)';
  ctx.lineWidth = 1;
  
  // ç¸¦ç·š 2æœ¬
  ctx.beginPath();
  ctx.moveTo(w / 3, 0);
  ctx.lineTo(w / 3, h);
  ctx.moveTo((w * 2) / 3, 0);
  ctx.lineTo((w * 2) / 3, h);
  
  // æ¨ªç·š 2æœ¬
  ctx.moveTo(0, h / 3);
  ctx.lineTo(w, h / 3);
  ctx.moveTo(0, (h * 2) / 3);
  ctx.lineTo(w, (h * 2) / 3);
  
  ctx.stroke();
}
```

#### è§’åº¦è¨ˆç®—

```javascript
function calculateAngle(p1, p2, p3) {
  // p2ã‚’é ‚ç‚¹ã¨ã—ã¦ã€p1-p2ã¨p2-p3ã®ãªã™è§’åº¦ã‚’è¨ˆç®—
  const v1 = { x: p1.x - p2.x, y: p1.y - p2.y };
  const v2 = { x: p3.x - p2.x, y: p3.y - p2.y };
  
  const dot = v1.x * v2.x + v1.y * v2.y;
  const mag1 = Math.sqrt(v1.x * v1.x + v1.y * v1.y);
  const mag2 = Math.sqrt(v2.x * v2.x + v2.y * v2.y);
  
  const cosAngle = dot / (mag1 * mag2);
  const angleRad = Math.acos(Math.max(-1, Math.min(1, cosAngle)));
  const angleDeg = angleRad * (180 / Math.PI);
  
  return Math.round(angleDeg * 10) / 10; // å°æ•°ç‚¹1ä½ã¾ã§
}
```

#### æ°´å¹³ä»ªï¼ˆDeviceMotionï¼‰å®Ÿè£…

```javascript
// è¨±å®¹ç¯„å›²ã®å®šæ•°
const LEVEL_TOLERANCE_DEG = 5.0;

// iOS 13+ ã§ã¯æ˜ç¤ºçš„ãªæ¨©é™ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå¿…è¦
async function requestMotionPermission() {
  if (typeof DeviceOrientationEvent.requestPermission === 'function') {
    try {
      const permission = await DeviceOrientationEvent.requestPermission();
      return permission === 'granted';
    } catch (err) {
      console.error('Motion permission denied:', err);
      return false;
    }
  }
  return true; // éiOS ã¾ãŸã¯ æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³
}

// æ°´å¹³ä»ªã®åˆæœŸåŒ–ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œå¾Œã«å‘¼ã³å‡ºã™ï¼‰
async function initLevelIndicator() {
  const granted = await requestMotionPermission();
  if (!granted) {
    showPermissionDeniedMessage();
    return false;
  }
  
  window.addEventListener('deviceorientation', handleOrientation, true);
  return true;
}

// å‚¾ãæ¤œå‡ºãƒãƒ³ãƒ‰ãƒ©
function handleOrientation(event) {
  // beta: å‰å¾Œã®å‚¾ãï¼ˆ-180 ~ 180ï¼‰ã€gamma: å·¦å³ã®å‚¾ãï¼ˆ-90 ~ 90ï¼‰
  const pitch = event.beta;   // ä¿¯ä»°è§’
  const roll = event.gamma;   // å·¦å³å‚¾æ–œ
  
  // æ¨ªå‘ãæ’®å½±æ™‚ã®è£œæ­£ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
  const adjustedPitch = pitch !== null ? pitch - 90 : null;  // æ’®å½±æ™‚ã¯90Â°ãŒæ­£é¢
  
  // æ°´å¹³åˆ¤å®š
  const isLevel = 
    adjustedPitch !== null && 
    roll !== null &&
    Math.abs(adjustedPitch) <= LEVEL_TOLERANCE_DEG && 
    Math.abs(roll) <= LEVEL_TOLERANCE_DEG;
  
  // UIæ›´æ–°
  updateLevelIndicatorUI(adjustedPitch, roll, isLevel);
  
  // æ’®å½±æ™‚ç”¨ã«ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ä¿æŒ
  window.currentOrientation = {
    pitch_deg: adjustedPitch,
    roll_deg: roll,
    is_level: isLevel,
    level_tolerance_deg: LEVEL_TOLERANCE_DEG
  };
}

// UIæ›´æ–°
function updateLevelIndicatorUI(pitch, roll, isLevel) {
  const indicator = document.getElementById('level-indicator');
  const pitchBar = document.getElementById('pitch-bar');
  const rollBar = document.getElementById('roll-bar');
  
  if (isLevel) {
    indicator.className = 'level-ok';
    indicator.textContent = 'âœ“ æ°´å¹³';
  } else {
    indicator.className = 'level-warning';
    // æ–¹å‘ã‚’çŸ¢å°ã§è¡¨ç¤º
    const pitchDir = pitch > LEVEL_TOLERANCE_DEG ? 'â†“' : pitch < -LEVEL_TOLERANCE_DEG ? 'â†‘' : '';
    const rollDir = roll > LEVEL_TOLERANCE_DEG ? 'â†’' : roll < -LEVEL_TOLERANCE_DEG ? 'â†' : '';
    indicator.textContent = `${pitchDir}${rollDir} èª¿æ•´ã—ã¦ãã ã•ã„`;
  }
  
  // ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ãƒãƒ¼ã®ä½ç½®ã‚’æ›´æ–°
  if (pitchBar) pitchBar.style.transform = `translateY(${pitch * 2}px)`;
  if (rollBar) rollBar.style.transform = `translateX(${roll * 2}px)`;
}
```

---

## 7. é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### 7.1 Phase 1: MVPï¼ˆ4é€±é–“ï¼‰

```mermaid
gantt
    title MVPé–‹ç™ºã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
    dateFormat  YYYY-MM-DD
    section åŸºç›¤
    ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—     :a1, 2026-01-06, 2d
    ã‚«ãƒ¡ãƒ©ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Ÿè£…        :a2, after a1, 3d
    section UI
    Grid/è¼ªéƒ­ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤       :b1, after a2, 3d
    æ°´å¹³ä»ªï¼ˆDeviceMotionï¼‰    :b1a, after b1, 2d
    è·é›¢ç¢ºèª/ä¸­å¿ƒåå­—UI      :b1b, after b1a, 1d
    Stepå‘å°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ      :b2, after b1b, 3d
    section æ’®å½±
    é™æ­¢ç”»ã‚­ãƒ£ãƒ—ãƒãƒ£           :c1, after b2, 2d
    è¨¼æ‹ ç”»åƒç”Ÿæˆ              :c2, after c1, 2d
    section æ¸¬å®š
    3ç‚¹ãƒãƒ¼ã‚­ãƒ³ã‚°UI           :d1, after c2, 3d
    è§’åº¦è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯           :d2, after d1, 2d
    section å‡ºåŠ›
    ãƒ‡ãƒ¼ã‚¿ä¿å­˜ï¼ˆIndexedDBï¼‰    :e1, after d2, 2d
    CSV/ç”»åƒã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ       :e2, after e1, 2d
    section ãƒ†ã‚¹ãƒˆ
    iPhoneå®Ÿæ©Ÿãƒ†ã‚¹ãƒˆ          :f1, after e2, 3d
```

> [!NOTE]
> **MVPå·¥æ•°å¤‰æ›´**: æ°´å¹³ä»ªæ©Ÿèƒ½ã®è¿½åŠ ã«ã‚ˆã‚Šã€ç´„+2æ—¥ï¼ˆUIãƒ•ã‚§ãƒ¼ã‚ºã«çµ±åˆï¼‰

### 7.2 Phase 2: æ‹¡å¼µæ©Ÿèƒ½ï¼ˆPhase 1å®Œäº†å¾Œï¼‰

| æ©Ÿèƒ½ | æ¦‚è¦ | å·¥æ•°ç›®å®‰ |
|------|------|----------|
| è†çª©è§’åº¦å¯¾å¿œ | æ¸¬å®šç¨®åˆ¥ã®è¿½åŠ  | 3æ—¥ |
| ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸ | Firebaseç­‰ã¨ã®é€£æº | 2é€±é–“ |
| è¤‡æ•°è¢«é¨“è€…ç®¡ç† | è¢«é¨“è€…ãƒªã‚¹ãƒˆãƒ»å±¥æ­´ç®¡ç† | 1é€±é–“ |
| AIéª¨æ ¼æ¤œå‡º | MediaPipe Poseçµ±åˆï¼ˆå®Ÿé¨“çš„ï¼‰ | 2é€±é–“ |
| å‚ç…§ç‰©è‡ªå‹•è·é›¢è¨ˆç®— | æ—¢çŸ¥ã‚µã‚¤ã‚ºãƒãƒ¼ã‚«ãƒ¼ã§è·é›¢æ¨å®š | 1é€±é–“ |

---

## 8. æ¤œååŸºæº–

### 8.1 æ©Ÿèƒ½æ¤œå

| ID | æ¤œåé …ç›® | åˆæ ¼åŸºæº– |
|----|----------|----------|
| AC-01 | ã‚«ãƒ¡ãƒ©èµ·å‹• | iPhone Safari 17+ã§ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯å¾Œ3ç§’ä»¥å†…ã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º |
| AC-02 | Gridè¡¨ç¤º | ä¹å®®æ ¼ãŒç”»é¢ã‚µã‚¤ã‚ºã«è¿½å¾“ã—ã¦æ­£ã—ãè¡¨ç¤º |
| AC-03 | Stepå®Œäº† | å…¨4Stepã‚’ç¢ºèªã—ãªã„ã¨æ’®å½±ãƒœã‚¿ãƒ³ãŒæœ‰åŠ¹åŒ–ã•ã‚Œãªã„ |
| AC-04 | æ’®å½± | ãƒœã‚¿ãƒ³æŠ¼ä¸‹ã§1ç§’ä»¥å†…ã«é™æ­¢ç”»ãŒã‚­ãƒ£ãƒ—ãƒãƒ£ã•ã‚Œã‚‹ |
| AC-05 | 3ç‚¹æŒ‡å®š | ç”»åƒä¸Šã§3ç‚¹ã‚’ã‚¿ãƒƒãƒ—æŒ‡å®šã§ãã€ç§»å‹•ãƒ»ä¿®æ­£ãŒå¯èƒ½ |
| AC-06 | è§’åº¦è¨ˆç®— | æŒ‡å®š3ç‚¹ã‹ã‚‰è§’åº¦ãŒè¨ˆç®—ã•ã‚Œã€å°æ•°ç‚¹1ä½ã¾ã§è¡¨ç¤º |
| AC-07 | CSVå‡ºåŠ› | è¨˜éŒ²ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ã„ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ |
| AC-08 | è¨¼æ‹ ç”»åƒ | Gridã€è§’åº¦ã€ãƒã‚§ãƒƒã‚¯é …ç›®ãŒé‡ç•³ã•ã‚ŒãŸPNGãŒå‡ºåŠ›ã•ã‚Œã‚‹ |
| AC-09 | æ°´å¹³ä»ªæ¨©é™ | DeviceMotionæ¨©é™ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œå¾Œã«è¡¨ç¤ºã•ã‚Œã‚‹ |
| AC-10 | æ°´å¹³ä»ªè¡¨ç¤º | å‚¾æ–œè§’åº¦ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼ˆ60Hzï¼‰ã§æ›´æ–°ã•ã‚Œã‚‹ |
| AC-11 | æ°´å¹³åˆ¤å®š | Â±5Â°ä»¥å†…ã§ç·‘è‰²ã€Œâœ“æ°´å¹³ã€ã€ç¯„å›²å¤–ã§èµ¤è‰²ï¼‹æ–¹å‘çŸ¢å° |
| AC-12 | è·é›¢ç¢ºèª | ã€Œè¿‘ã™ãã‚‹/é©åˆ‡/é ã™ãã‚‹ã€ã®3æŠã§ç¢ºèªè¨˜éŒ²ã•ã‚Œã‚‹ |
| AC-13 | ä¸­å¿ƒåå­— | ç”»é¢ä¸­å¤®ã«å¸¸æ™‚åå­—ãƒãƒ¼ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã‚‹ |
| AC-14 | å§¿å‹¢è¨˜éŒ² | æ’®å½±æ™‚ã®Pitch/Rollå€¤ãŒãƒ‡ãƒ¼ã‚¿ã«è‡ªå‹•è¨˜éŒ²ã•ã‚Œã‚‹ |

### 8.2 éæ©Ÿèƒ½æ¤œå

| ID | æ¤œåé …ç›® | åˆæ ¼åŸºæº– |
|----|----------|----------|
| NF-01 | ãƒ¬ã‚¹ãƒãƒ³ã‚¹ | å…¨æ“ä½œãŒ2ç§’ä»¥å†…ã«å¿œç­” |
| NF-02 | ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ | ä¸€åº¦èª­ã¿è¾¼ã‚ã°ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ‡æ–­å¾Œã‚‚å‹•ä½œ |
| NF-03 | ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šæ€§ | ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‰ã˜ã¦ã‚‚è¨˜éŒ²ãƒ‡ãƒ¼ã‚¿ãŒæ¶ˆãˆãªã„ |

---

## 9. ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | å¯¾ç­– |
|--------|--------|------|
| iOS Safari APIå¤‰æ›´ | é«˜ | Safari Release Notesã‚’å®šæœŸç¢ºèª |
| ç…§æ˜æ¡ä»¶ã«ã‚ˆã‚‹è¦–èªæ€§ä½ä¸‹ | ä¸­ | Grid/è¼ªéƒ­ã®è‰²ãƒ»å¤ªã•ã‚’èª¿æ•´å¯èƒ½ã« |
| è·é›¢3mç¢ºä¿å›°é›£ãªç’°å¢ƒ | ä¸­ | è·é›¢é¸æŠæ©Ÿèƒ½ã‚’è¿½åŠ ï¼ˆPhase 2ï¼‰ |
| é«˜é½¢è€…ã®æ“ä½œå›°é›£ | ä¸­ | å¤§ããªãƒœã‚¿ãƒ³ã€ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ•ãƒ­ãƒ¼ |

---

## 10. ç”¨èªé›†

| ç”¨èª | èª¬æ˜ |
|------|------|
| **è†çª©è§’åº¦** | è†ã‚’ä¼¸ã°ã—ãŸçŠ¶æ…‹ã§ã€å¤–æœã¨è…“éª¨é ­ã‚’çµã¶ç·šãŒæ°´å¹³ç·šã¨ãªã™è§’åº¦ |
| **è¶³é–¢ç¯€èƒŒå±ˆè§’åº¦** | è…“éª¨é ­-å¤–æœ-ç¬¬5ä¸­è¶³éª¨é ­ã§å½¢æˆã•ã‚Œã‚‹è§’åº¦ |
| **ImageJ** | NIHè£½ã®ç”»åƒè§£æã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ |
| **getUserMedia** | WebRTC APIã®ä¸€ã¤ã§ã‚«ãƒ¡ãƒ©ãƒ»ãƒã‚¤ã‚¯ã«ã‚¢ã‚¯ã‚»ã‚¹ |
| **PWA** | Progressive Web Appã€ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã®ã‚ˆã†ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ãªWebApp |

---

## 11. å‚è€ƒæ–‡çŒ®

1. ä¸­å¶‹ é¢¨è¯, ä¸­å±± æ™ºæ™´, å±±ï¨‘ è£•å¸: Image Jã‚’ç”¨ã„ãŸé–¢ç¯€å¯å‹•åŸŸæ¸¬å®šã«ãŠã‘ã‚‹æ¤œè€…å†…å†ç¾æ€§ã®æ¤œè¨. é«˜çŸ¥ãƒªãƒãƒ“ãƒªãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å°‚é–€è·å¤§å­¦ç´€è¦ 4:23-26, 2023.
2. [MDN Web Docs - getUserMedia](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia)
3. [WebKit Blog - WebRTC on Safari](https://webkit.org/blog/11353/webrtc-in-safari-14-and-ios-14/)

---

## ä»˜éŒ²A: é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ« | èª¬æ˜ |
|----------|------|
| [draft_paper.md](file:///Users/tianyihan/repository/4-BW_image-J/draft_paper.md) | æœ¬PRDã®å…ƒã¨ãªã‚‹ç ”ç©¶è«–æ–‡ãƒ‰ãƒ©ãƒ•ãƒˆ |

---

> **æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**
> 1. ã“ã®PRDã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»æ‰¿èª
> 2. ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¢ãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆï¼ˆFigmaç­‰ï¼‰
> 3. Phase 1 MVPé–‹ç™ºç€æ‰‹
